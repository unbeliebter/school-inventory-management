<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<link th:href="@{/css/common.css}" type="text/css" rel="stylesheet">
<link th:href="@{/css/inventory.css}" type="text/css" rel="stylesheet">
<link th:href="@{/css/sidebarNav.css}" type="text/css" rel="stylesheet">


<dialog id="addEquipmentDialog">
    <form method="post" th:action="@{/subjects/add}" th:object="${newSubject}">
        <input type="hidden" th:name="subjectId" id="id-input" th:value="*{id}"/>
        <div class="form-equipment-container">
            <h3 class="add-equipment-form-header">Add Subject</h3>
            <div class="lbl-with-input-horizontal">
                <label>Name:</label>
                <input th:field="*{name}" id="equipmentName-input" class="dialog-input" type="text" min="1" minlength="1"
                       required>
            </div>
            <div class="lbl-with-input-horizontal">
                <label>Abkürzung:</label>
                <input th:field="*{abbreviation}" id="equipmentName-input" class="dialog-input" type="text" min="1" minlength="1"
                       required>
            </div>
            <div class="container-add-equipment-form-btn">
                <button type="submit">Submit</button>
                <button id="add-equipment-dialog-cancel-button" type="reset">Cancel</button>
            </div>

        </div>

    </form>
</dialog>


<body>
<header th:replace="fragments.html :: header"> </header>

<section class="section-content">
    <nav th:replace="fragments.html :: sideBar"></nav>

    <div class="container-content">
        <div th:replace="fragments.html :: table-control-header"></div>
        <div class="container-inventory-table">
            <table>
                <caption class="table-inventory-caption">
                    Fächer
                </caption>
                <thead class="">
                <tr class="">
                    <th scope="col">Fach</th>
                    <th scope="col"></th>
                </tr>
                </thead>
                <tbody>
                <tr class="" th:each="subject : ${Subjects}">
                    <td><span th:text="${subject.name}">Fach</span></td>
                    <td class="btn-cell">
                        <div class="container-table-buttons">
                            <button th:value="${subject.id}" onclick="editEquipmentEntry(this.getAttribute('value'))" class="img-btn"><img th:src="@{/icons/edit.svg}" title="Edit Entry" alt="edit"></button>

                            <form th:action="@{/subjects/remove}" method="post">
                                <input type="hidden" th:name="subjectEntryId" th:value="${subject.id}"/>
                                <button type="submit" class="img-btn"><img th:src="@{/icons/trash-2.svg}" title="Delete Entry" alt="delete"></button>
                            </form>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>




</body>
<script type="text/javascript" th:src="@{/js/inventory.js}"></script>
<script th:inline="javascript">
    var equipment = [[${Subjects}]];
    const newEquipmentId = [[${newSubjectId}]]
</script>
</html>